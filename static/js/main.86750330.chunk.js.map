{"version":3,"sources":["Comps/Icon.js","Comps/StaticInfoPanel.js","Comps/NamePanel.js","Comps/TextWithLeftIcon.js","Comps/utils.js","Comps/InfoPanel.js","Comps/Minute.js","Comps/MinutesPanel.js","Comps/Present.js","Comps/PresentsPanel.js","Comps/FooterPanel.js","Comps/LoginPanel.js","App.js","serviceWorker.js","index.js"],"names":["Icon","props","state","className","src","this","React","Component","StaticInfoPanel","style","color","error","text","NamePanel","disabled","isDisabled","name","surname","height","mobile","birthday","cardid","TextWithLeftIcon","display","marginLeft","marginTop","fontSize","minutesSuffix","n","formatLess100","formatLess20","minutesSuffixM","formatLess100M","formatLess20M","InfoPanel","totalMinutes","money","sale","formatPercent","saleComment","formatMoney","formatMinutes","Minute","minutes","s","i","accessibleFor","length","expireDate","formatAccessibleFor","formatExpireDate","MinutesPanel","saleMinutes","sm","push","key","Present","PresentsPanel","presents","p","FooterPanel","LoginPanel","handleMobileChange","bind","handleCardChange","handleLoginClick","handleCardKeyDown","card","errorMessage","e","value","target","setState","console","log","myHeaders","Headers","append","raw","JSON","stringify","requestOptions","method","headers","body","redirect","Promise","resolve","reject","fetch","then","result","ok","json","catch","err","load","record","changeRecord","changePanel","htmlFor","type","placeholder","onChange","onKeyDown","onClick","App","currentView","undefined","panel","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.86750330.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nclass Icon extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n\n    };\n  }\n\n  render() {\n    return (\n      <div className=\"icon\">\n        <img src={this.props.src}></img>\n      </div>\n    )\n  }\n}\n\nIcon.propTypes = {\n  src: PropTypes.string.isRequired,\n}\n\nexport default Icon;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Icon from './Icon';\n\nclass StaticInfoPanel extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n\n    };\n  }\n\n  render() {\n    return (\n      <div className=\"staticInfoBlock\">\n        <div className=\"staticInfo\"><p style={{color: this.props.error ? \"red\" : \"black\"}}>{this.props.text}</p></div>\n        <Icon src={this.props.error ? this.props.src + \"-error.png\" : this.props.src + \".png\"}/>\n      </div>\n    )\n  }\n}\n\nStaticInfoPanel.propTypes = {\n  src: PropTypes.string.isRequired,\n  text: PropTypes.string.isRequired,\n  error: PropTypes.bool,\n}\n\nexport default StaticInfoPanel;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport StaticInfoPanel from './StaticInfoPanel';\n\nclass NamePanel extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      disabled: this.props.isDisabled,\n    };\n  }\n\n  render() {\n    return (\n      <div className=\"block nameBlock\">\n\n        <div className=\"blockContent nameBlockContent\">\n\n          <div className=\"nameOverflowContainter\">\n            <div className=\"nameContainer\">\n              <p className=\"name\">{this.props.name}</p>\n              <p className=\"surname\">{this.props.surname}</p>\n            </div>\n          </div>\n\n          <div className=\"staticInfoContainer\">\n            <div className=\"InfoContainer\">\n              {this.state.disabled ? <StaticInfoPanel className=\"staticInfoPanel error\" text=\"Карта заблокирована\" src=\"icons/alert-octagon\" error={true}/> : <div style={{height: \"43px\"}}></div>}\n              <StaticInfoPanel className=\"staticInfoPanel\" text={this.props.mobile} src=\"icons/call-phone\" />\n              <StaticInfoPanel className=\"staticInfoPanel\" text={this.props.birthday} src=\"icons/calendar-dates\" />\n              <StaticInfoPanel className=\"staticInfoPanel\" text={this.props.cardid} src=\"icons/creditcard\" />\n            </div>\n          </div>\n\n          <div className=\"clear\"></div>\n\n        </div>\n\n      </div>\n    )\n  }\n}\n\nNamePanel.propTypes = {\n  name: PropTypes.string.isRequired,\n  surname: PropTypes.string.isRequired,\n  mobile: PropTypes.string.isRequired,\n  birthday: PropTypes.string.isRequired,\n  cardid: PropTypes.string.isRequired,\n  isDisabled: PropTypes.bool.isRequired\n}\n\nexport default NamePanel;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Icon from './Icon';\n\nclass TextWithLeftIcon extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n\n    };\n  }\n\n  render() {\n    return (\n      <div style={{display: \"flex\"}}>\n        <Icon src={this.props.src}/>\n        <div style={{marginLeft: \"6px\", marginTop: \"-5px\"}}>\n          <p className=\"light\" style={{fontSize: 24}}>{this.props.text}</p>\n        </div>\n      </div>\n    )\n  }\n}\n\nTextWithLeftIcon.propTypes = {\n  src: PropTypes.string.isRequired,\n  text: PropTypes.string.isRequired,\n}\n\nexport default TextWithLeftIcon;","export function minutesSuffix(n) {\n  if (n <= 100) return formatLess100(n);\n  if (n > 100) return formatLess100(n % 100);\n}\n\nfunction formatLess20(n) {\n  if (n == 0) return \"\";\n  if (n == 1) return \"а\";\n  if (2 <= n && n <= 4) return \"ы\";\n  if (5 <= n && n <= 20) return \"\";\n}\n\nfunction formatLess100(n) {\n  if (n <= 20) return formatLess20(n);\n  if (21 <= n <= 100) return formatLess20(n % 10);\n}\n\n\nexport function minutesSuffixM(n) {\n  if (n <= 100) return formatLess100M(n);\n  if (n > 100) return formatLess100M(n % 100);\n}\n\nfunction formatLess20M(n) {\n  if (n == 0) return \"ов\";\n  if (n == 1) return \"\";\n  if (2 <= n && n <= 4) return \"а\";\n  if (5 <= n && n <= 20) return \"ов\";\n}\n\nfunction formatLess100M(n) {\n  if (n <= 20) return formatLess20M(n);\n  if (21 <= n <= 100) return formatLess20M(n % 10);\n}\n\nexport function load(cardid, mobile) {\n  var myHeaders = new Headers();\n  myHeaders.append(\"Content-Type\", \"application/json\");\n  myHeaders.append(\"Accept\", \"application/json\");\n  \n  var raw = JSON.stringify({\"cardid\":cardid, \"mobile\":mobile});\n  \n  var requestOptions = {\n    method: 'POST',\n    headers: myHeaders,\n    body: raw,\n    redirect: 'follow'\n  };\n\n  console.log(raw);\n\n  return new Promise((resolve, reject) => {\n    fetch(\"https://rscradik.asuscomm.com:5001/api/getRecord\", requestOptions)\n      .then(result => {\n        if (result.ok === false)\n          reject(\"result is not ok\")\n\n        return result.json();\n      })\n      .then(json => {\n        console.log(json);\n        resolve(json);\n      })\n      .catch(err => {\n        reject(\"error\")\n      })\n  })\n}","import React from 'react';\nimport PropTypes from 'prop-types';\nimport TextWithLeftIcon from './TextWithLeftIcon';\nimport { minutesSuffix, minutesSuffixM } from './utils';\n\n\nclass InfoPanel extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      \n    };\n  }\n\n  formatMinutes() {\n    return \"Всего в солярии проведено \" + this.props.totalMinutes + \" минут\" + minutesSuffix(this.props.totalMinutes);\n  }\n\n  formatMoney() {\n    return \"Накоплено \" + this.props.money + \" балл\" + minutesSuffixM(this.props.money);\n  }\n\n  formatPercent() {\n    return \"Скидка — \" + this.props.sale + \" процент\" + minutesSuffixM(this.props.sale);\n  }\n\n  render() {\n    return (\n      <div className=\"block nameBlock\">\n\n        <div className=\"blockContent\">\n\n          <div className=\"blockTitle\">\n            <p>Информация</p>\n          </div>\n\n          <div className=\"afterTitleWrapper\">\n            <div className=\"sale\">\n              <p className=\"semiTitle\">{this.formatPercent()}</p>\n              <div className=\"saleDescriptionWrapper\">\n                <TextWithLeftIcon src=\"icons/alert-circle.png\" text={this.props.saleComment}/>\n              </div>\n            </div>\n            <div className=\"minutes\">\n              <p className=\"semiTitle\">{this.formatMoney()}</p>\n              <div className=\"minutesDescriptionWrapper\">\n                <TextWithLeftIcon src=\"icons/time.png\" text={this.formatMinutes()}/>\n              </div>\n            </div>\n\n          </div>\n\n        </div>\n\n      </div>\n    )\n  }\n}\n\nInfoPanel.propTypes = {\n  sale: PropTypes.number.isRequired,\n  saleComment: PropTypes.string.isRequired,\n  money: PropTypes.number.isRequired,\n  totalMinutes: PropTypes.number.isRequired,\n}\n\nexport default InfoPanel;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Icon from './Icon';\nimport TextWithLeftIcon from './TextWithLeftIcon';\nimport { minutesSuffix } from './utils';\n\nclass Minute extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      \n    };\n  }\n\n  formatMinutes() {\n    return this.props.minutes + \" минут\" + minutesSuffix(this.props.minutes);\n  }\n\n  formatAccessibleFor() {\n    let s = \"Доступны для \";\n    for (let i = 0; i < this.props.accessibleFor.length - 2; i++) {\n      s += this.props.accessibleFor[i] + \", \";\n    }\n    if (this.props.accessibleFor.length >= 2) {\n      s += this.props.accessibleFor[this.props.accessibleFor.length - 2] + \" и \" + this.props.accessibleFor[this.props.accessibleFor.length - 1];\n    } else {\n      s += this.props.accessibleFor[this.props.accessibleFor.length - 1];\n    }\n    s += \" солярия\"\n    return s;\n  }\n\n  formatExpireDate() {\n    return \"Действует до \" + this.props.expireDate;\n  }\n\n  render() {\n    return (\n      <div className=\"minute\">\n        <p className=\"semiTitle\">{this.formatMinutes()}</p>\n        <div className=\"minuteDescriptionWrapper\">\n          <div className=\"textWrapper\">\n            <p className=\"light\">{this.formatAccessibleFor()}</p>\n          </div>\n        </div>\n        <div className=\"minuteDescriptionWrapper\">\n          <TextWithLeftIcon src=\"icons/timer.png\" text={this.formatExpireDate()}/>  \n        </div>\n      </div>\n    )\n  }\n}\n\nMinute.propTypes = {\n  minutes: PropTypes.number.isRequired,\n  accessibleFor: PropTypes.arrayOf(PropTypes.string),\n  expireDate: PropTypes.string.isRequired\n}\n\nexport default Minute;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Minute from './Minute';\n\nclass MinutesPanel extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n\n    };\n  }\n\n  render() {\n    let minutes = [];\n    for (let i = 0; i < this.props.saleMinutes.length; i++) {\n      let sm = this.props.saleMinutes[i];\n      minutes.push(<Minute minutes={sm[\"Minutes\"]} accessibleFor={sm[\"AccessibleFor\"]} expireDate={sm[\"ExpireDate\"]} key={i}/>);\n    }\n\n    return (\n      <div className=\"block nameBlock\">\n\n        <div className=\"blockContent\">\n\n          <div className=\"blockTitle\">\n            <p>Подарочные минуты</p>\n          </div>\n\n          <div className=\"afterTitleWrapperVertical\">\n            {minutes}\n          </div>\n\n        </div>\n\n      </div>\n    )\n  }\n}\n\nMinutesPanel.propTypes = {\n  saleMinutes: PropTypes.arrayOf(PropTypes.object).isRequired,\n}\n\nexport default MinutesPanel;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Icon from './Icon';\nimport TextWithLeftIcon from './TextWithLeftIcon';\n\nclass Present extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n\n    };\n  }\n\n  formatExpireDate() {\n    return \"Действует до \" + this.props.expireDate;\n  }\n\n  render() {\n    return (\n      <div className=\"present\">\n        <div className=\"textWrapper\">\n          <p className=\"semiTitle\">{this.props.name}</p>\n        </div>\n        <div className=\"minuteDescriptionWrapper\">\n          <TextWithLeftIcon src=\"icons/timer.png\" text={this.formatExpireDate()}/>  \n        </div>\n      </div>\n    )\n  }\n}\n\nPresent.propTypes = {\n  name: PropTypes.string.isRequired,\n  expireDate: PropTypes.string.isRequired,\n}\n\nexport default Present;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Present from './Present';\n\nclass PresentsPanel extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n\n    };\n  }\n\n  render() {\n    let presents = [];\n    for (let i = 0; i < this.props.presents.length; i++) {\n      let p = this.props.presents[i];\n      presents.push(<Present name={p[\"Name\"]} expireDate={p[\"ExpireDate\"]} key={i}/>);\n    }\n\n    return (\n      <div className=\"block nameBlock\">\n\n        <div className=\"blockContent\">\n\n          <div className=\"blockTitle\">\n            <p>Подарки</p>\n          </div>\n\n          <div className=\"afterTitleWrapperVertical\">\n            {presents}\n          </div>\n\n        </div>\n\n      </div>\n    )\n  }\n}\n\nPresentsPanel.propTypes = {\n  presents: PropTypes.arrayOf(PropTypes.object).isRequired,\n}\n\nexport default PresentsPanel;","import React from 'react';\nimport Minute from './Minute';\nimport Icon from './Icon';\n\nclass FooterPanel extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      \n    };\n  }\n\n  render() {\n    return (\n      <div className=\"block nameBlock\">\n\n        <div className=\"blockContent\">\n\n          <div className=\"blockTitle\">\n            <p>Контакты</p>\n          </div>\n\n          <div className=\"afterTitleWrapperVertical\">\n            <div>\n              <p className=\"semiTitle\">Позвонить</p>\n              <p className=\"tire\">—</p>\n              <p className=\"after\">+7 917 802-13-33</p>\n            </div>\n\n            <div>\n              <p className=\"semiTitle\">Написать</p>\n              <p className=\"tire\">—</p>\n              <p className=\"after\">mail@mail.ru</p>\n            </div>\n\n            <div>\n              <p className=\"semiTitle\">Поделиться</p>\n              <p className=\"tire\">—</p>\n              <div className=\"footerIcons\">\n                <Icon src=\"icons/alert-circle.png\" />\n                <Icon src=\"icons/alert-circle.png\" />\n                <Icon src=\"icons/alert-circle.png\" />\n                <Icon src=\"icons/alert-circle.png\" />\n              </div>\n            </div>\n\n            <p className=\"smol-light\">Политика конфиденциальности</p>\n            <p className=\"smol-light\">Обработка персональных данных</p>\n          </div>\n\n        </div>\n\n      </div>\n    )\n  }\n}\n\nexport default FooterPanel;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { load } from \"./utils\";\n\nclass LoginPanel extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleMobileChange = this.handleMobileChange.bind(this);\n    this.handleCardChange = this.handleCardChange.bind(this);\n    this.handleLoginClick = this.handleLoginClick.bind(this);\n    this.handleCardKeyDown = this.handleCardKeyDown.bind(this);\n\n    this.state = {\n      mobile: \"\",\n      card: \"\",\n\n      error: false,\n      errorMessage: \"\",\n    };\n  }\n\n  handleMobileChange(e) {\n    let value = e.target.value;\n    this.setState(() => ({mobile: value, error: false}));\n  }\n  \n  handleCardChange(e) {\n    let value = e.target.value;\n    this.setState(() => ({card: value, error: false}));\n  }\n\n  handleLoginClick() {\n    console.log(\"login\");\n    console.log(this.state.mobile);\n    console.log(this.state.card);\n\n    let error = false;\n    let errorMessage = \"\";\n\n    if (!this.state.mobile || this.state.mobile === \"\") {\n      errorMessage = \"Укажите номер телефона\";\n    } else if (!this.state.card || this.state.card === \"\") {\n      errorMessage = \"Укажите номер карты\";\n    }\n\n    if (errorMessage !== \"\") {\n      error = true;\n      this.setState(() => ({error: error, errorMessage: errorMessage}));\n    } else {\n      load(this.state.card, this.state.mobile).then(json => {\n        let record = json;\n        this.props.changeRecord(record);\n        this.props.changePanel(\"main\");\n      }).catch(err => {\n        console.log(err);\n      })\n    }\n  }\n\n  handleCardKeyDown(e) {\n    if (e.key === \"Enter\") {\n      this.handleLoginClick();\n    }\n  }\n\n\n  render() {\n    return (\n      <div className=\"loginBlock\">\n\n        <div className=\"loginContent\">\n\n          <div className=\"inputBlock\">\n            <label htmlFor=\"name\">Номер телефона</label>\n            <input className=\"mobileInput\" name=\"mobile\" type=\"text\" placeholder=\"+79991234567\" onChange={this.handleMobileChange} value={this.state.mobile}></input>\n          </div>\n\n          <div className=\"inputBlock\">\n            <label htmlFor=\"card\">Номер карты</label>\n            <input className=\"cardInput\" name=\"card\" type=\"number\" placeholder=\"8000012345\" onChange={this.handleCardChange} onKeyDown={this.handleCardKeyDown} value={this.state.card}></input>\n          </div>\n\n          {this.state.error ?\n            <div className=\"errorMessage\">\n              {this.state.errorMessage}\n            </div>\n          : null}\n\n          <div className=\"inputBlock\">\n            <button className=\"loginButton\" onClick={this.handleLoginClick}>Войти</button>\n          </div>\n\n        </div>\n\n      </div>\n    )\n  }\n}\n\nLoginPanel.propTypes = {\n  changePanel: PropTypes.func.isRequired,\n  changeRecord: PropTypes.func.isRequired,\n}\n\nexport default LoginPanel;","import React from 'react';\nimport './App.css';\nimport NamePanel from './Comps/NamePanel';\nimport InfoPanel from './Comps/InfoPanel';\nimport MinutesPanel from './Comps/MinutesPanel';\nimport PresentsPanel from './Comps/PresentsPanel';\nimport FooterPanel from './Comps/FooterPanel';\nimport LoginPanel from './Comps/LoginPanel';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.changePanel = this.changePanel.bind(this);\n    this.changeRecord = this.changeRecord.bind(this);\n\n    this.state = {\n      currentView: \"login\",\n\n      record: undefined,\n    };\n  }\n\n  changePanel(panel) {\n    this.setState(() => ({currentView: panel}));\n  }\n\n  changeRecord(record) {\n    this.setState(() => ({record: record}));\n  }\n\n  render() {\n    let record = this.state.record;\n    return (\n      <div>\n        {this.state.currentView === \"login\" ? \n          <div className=\"content\">\n            <LoginPanel changePanel={this.changePanel} changeRecord={this.changeRecord}/>\n          </div>\n        :\n          <div className=\"content\">\n            <NamePanel name={record[\"Name\"]} surname={record[\"SurName\"]} isDisabled={record[\"IsDisabled\"]} cardid={record[\"CardId\"]} mobile={record[\"Mobile\"]} birthday={record[\"Birthday\"]} />\n            <InfoPanel sale={record[\"Sale\"]} saleComment={record[\"SaleComment\"]} money={record[\"Money\"]} totalMinutes={record[\"TotalMinutes\"]}/>\n            <MinutesPanel saleMinutes={record[\"SaleMinutes\"]}/>\n            <PresentsPanel presents={record[\"Presents\"]}/>\n            <FooterPanel />\n          </div>\n        }\n      </div>\n    )\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}