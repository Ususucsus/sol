{"version":3,"sources":["Comps/Icon.js","Comps/StaticInfoPanel.js","Comps/NamePanel.js","Comps/TextWithLeftIcon.js","Comps/utils.js","Comps/InfoPanel.js","Comps/Minute.js","Comps/MinutesPanel.js","Comps/Present.js","Comps/PresentsPanel.js","Comps/FooterPanel.js","Comps/LoginPanel.js","Comps/LogoutPanel.js","App.js","serviceWorker.js","index.js"],"names":["Icon","props","state","className","src","this","React","Component","StaticInfoPanel","style","color","error","text","NamePanel","disabled","isDisabled","name","surname","height","mobile","birthday","cardid","TextWithLeftIcon","display","marginLeft","marginTop","fontSize","minutesSuffix","n","formatLess100","formatLess20","minutesSuffixM","formatLess100M","formatLess20M","load","myHeaders","Headers","append","raw","JSON","stringify","requestOptions","method","headers","body","redirect","console","log","Promise","resolve","reject","fetch","then","result","ok","json","catch","err","InfoPanel","totalMinutes","money","sale","formatPercent","saleComment","formatMoney","formatMinutes","Minute","minutes","s","i","accessibleFor","length","expireDate","formatAccessibleFor","formatExpireDate","MinutesPanel","saleMinutes","sm","push","key","Present","PresentsPanel","presents","p","FooterPanel","LoginPanel","handleMobileChange","bind","handleCardChange","handleLoginClick","handleCardKeyDown","card","errorMessage","cookie_mobile","cookies","get","cookie_card","record","changeRecord","changePanel","remove","e","value","target","setState","set","maxAge","secure","htmlFor","type","placeholder","onChange","onKeyDown","onClick","withCookies","LogoutPanel","logout","App","currentView","undefined","panel","CookiesProvider","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.d4af37e4.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nclass Icon extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n\n    };\n  }\n\n  render() {\n    return (\n      <div className=\"icon\">\n        <img src={this.props.src}></img>\n      </div>\n    )\n  }\n}\n\nIcon.propTypes = {\n  src: PropTypes.string.isRequired,\n}\n\nexport default Icon;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Icon from './Icon';\n\nclass StaticInfoPanel extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n\n    };\n  }\n\n  render() {\n    return (\n      <div className=\"staticInfoBlock\">\n        <div className=\"staticInfo\"><p style={{color: this.props.error ? \"red\" : \"black\"}}>{this.props.text}</p></div>\n        <Icon src={this.props.error ? this.props.src + \"-error.png\" : this.props.src + \".png\"}/>\n      </div>\n    )\n  }\n}\n\nStaticInfoPanel.propTypes = {\n  src: PropTypes.string.isRequired,\n  text: PropTypes.string.isRequired,\n  error: PropTypes.bool,\n}\n\nexport default StaticInfoPanel;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport StaticInfoPanel from './StaticInfoPanel';\n\nclass NamePanel extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      disabled: this.props.isDisabled,\n    };\n  }\n\n  render() {\n    return (\n      <div className=\"block nameBlock\">\n\n        <div className=\"blockContent nameBlockContent\">\n\n          <div className=\"nameOverflowContainter\">\n            <div className=\"nameContainer\">\n              <p className=\"name\">{this.props.name}</p>\n              <p className=\"surname\">{this.props.surname}</p>\n            </div>\n          </div>\n\n          <div className=\"staticInfoContainer\">\n            <div className=\"InfoContainer\">\n              {this.state.disabled ? <StaticInfoPanel className=\"staticInfoPanel error\" text=\"Карта заблокирована\" src=\"icons/alert-octagon\" error={true}/> : <div style={{height: \"43px\"}}></div>}\n              <StaticInfoPanel className=\"staticInfoPanel\" text={this.props.mobile} src=\"icons/call-phone\" />\n              <StaticInfoPanel className=\"staticInfoPanel\" text={this.props.birthday} src=\"icons/calendar-dates\" />\n              <StaticInfoPanel className=\"staticInfoPanel\" text={this.props.cardid} src=\"icons/creditcard\" />\n            </div>\n          </div>\n\n          <div className=\"clear\"></div>\n\n        </div>\n\n      </div>\n    )\n  }\n}\n\nNamePanel.propTypes = {\n  name: PropTypes.string.isRequired,\n  surname: PropTypes.string.isRequired,\n  mobile: PropTypes.string.isRequired,\n  birthday: PropTypes.string.isRequired,\n  cardid: PropTypes.string.isRequired,\n  isDisabled: PropTypes.bool.isRequired\n}\n\nexport default NamePanel;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Icon from './Icon';\n\nclass TextWithLeftIcon extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n\n    };\n  }\n\n  render() {\n    return (\n      <div style={{display: \"flex\"}}>\n        <Icon src={this.props.src}/>\n        <div style={{marginLeft: \"6px\", marginTop: \"-5px\"}}>\n          <p className=\"light\" style={{fontSize: 24}}>{this.props.text}</p>\n        </div>\n      </div>\n    )\n  }\n}\n\nTextWithLeftIcon.propTypes = {\n  src: PropTypes.string.isRequired,\n  text: PropTypes.string.isRequired,\n}\n\nexport default TextWithLeftIcon;","export function minutesSuffix(n) {\n  if (n <= 100) return formatLess100(n);\n  if (n > 100) return formatLess100(n % 100);\n}\n\nfunction formatLess20(n) {\n  if (n == 0) return \"\";\n  if (n == 1) return \"а\";\n  if (2 <= n && n <= 4) return \"ы\";\n  if (5 <= n && n <= 20) return \"\";\n}\n\nfunction formatLess100(n) {\n  if (n <= 20) return formatLess20(n);\n  if (21 <= n <= 100) return formatLess20(n % 10);\n}\n\n\nexport function minutesSuffixM(n) {\n  if (n <= 100) return formatLess100M(n);\n  if (n > 100) return formatLess100M(n % 100);\n}\n\nfunction formatLess20M(n) {\n  if (n == 0) return \"ов\";\n  if (n == 1) return \"\";\n  if (2 <= n && n <= 4) return \"а\";\n  if (5 <= n && n <= 20) return \"ов\";\n}\n\nfunction formatLess100M(n) {\n  if (n <= 20) return formatLess20M(n);\n  if (21 <= n <= 100) return formatLess20M(n % 10);\n}\n\nexport function load(cardid, mobile) {\n  var myHeaders = new Headers();\n  myHeaders.append(\"Content-Type\", \"application/json\");\n  myHeaders.append(\"Accept\", \"application/json\");\n  \n  var raw = JSON.stringify({\"cardid\":cardid, \"mobile\":mobile});\n  \n  var requestOptions = {\n    method: 'POST',\n    headers: myHeaders,\n    body: raw,\n    redirect: 'follow'\n  };\n\n  console.log(raw);\n\n  return new Promise((resolve, reject) => {\n    fetch(\"https://rscradik.asuscomm.com:5001/api/getRecord\", requestOptions)\n      .then(result => {\n        if (result.ok === false)\n          reject(\"result is not ok\")\n\n        return result.json();\n      })\n      .then(json => {\n        console.log(json);\n        resolve(json);\n      })\n      .catch(err => {\n        reject(\"error\")\n      })\n  })\n}","import React from 'react';\nimport PropTypes from 'prop-types';\nimport TextWithLeftIcon from './TextWithLeftIcon';\nimport { minutesSuffix, minutesSuffixM } from './utils';\n\n\nclass InfoPanel extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      \n    };\n  }\n\n  formatMinutes() {\n    return \"Всего в солярии проведено \" + this.props.totalMinutes + \" минут\" + minutesSuffix(this.props.totalMinutes);\n  }\n\n  formatMoney() {\n    return \"Накоплено \" + this.props.money + \" балл\" + minutesSuffixM(this.props.money);\n  }\n\n  formatPercent() {\n    return \"Скидка — \" + this.props.sale + \" процент\" + minutesSuffixM(this.props.sale);\n  }\n\n  render() {\n    return (\n      <div className=\"block nameBlock\">\n\n        <div className=\"blockContent\">\n\n          <div className=\"blockTitle\">\n            <p>Информация</p>\n          </div>\n\n          <div className=\"afterTitleWrapper\">\n            <div className=\"sale\">\n              <p className=\"semiTitle\">{this.formatPercent()}</p>\n              <div className=\"saleDescriptionWrapper\">\n                <TextWithLeftIcon src=\"icons/alert-circle.png\" text={this.props.saleComment}/>\n              </div>\n            </div>\n            <div className=\"minutes\">\n              <p className=\"semiTitle\">{this.formatMoney()}</p>\n              <div className=\"minutesDescriptionWrapper\">\n                <TextWithLeftIcon src=\"icons/time.png\" text={this.formatMinutes()}/>\n              </div>\n            </div>\n\n          </div>\n\n        </div>\n\n      </div>\n    )\n  }\n}\n\nInfoPanel.propTypes = {\n  sale: PropTypes.number.isRequired,\n  saleComment: PropTypes.string.isRequired,\n  money: PropTypes.number.isRequired,\n  totalMinutes: PropTypes.number.isRequired,\n}\n\nexport default InfoPanel;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Icon from './Icon';\nimport TextWithLeftIcon from './TextWithLeftIcon';\nimport { minutesSuffix } from './utils';\n\nclass Minute extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      \n    };\n  }\n\n  formatMinutes() {\n    return this.props.minutes + \" минут\" + minutesSuffix(this.props.minutes);\n  }\n\n  formatAccessibleFor() {\n    let s = \"Доступны для \";\n    for (let i = 0; i < this.props.accessibleFor.length - 2; i++) {\n      s += this.props.accessibleFor[i] + \", \";\n    }\n    if (this.props.accessibleFor.length >= 2) {\n      s += this.props.accessibleFor[this.props.accessibleFor.length - 2] + \" и \" + this.props.accessibleFor[this.props.accessibleFor.length - 1];\n    } else {\n      s += this.props.accessibleFor[this.props.accessibleFor.length - 1];\n    }\n    s += \" солярия\"\n    return s;\n  }\n\n  formatExpireDate() {\n    return \"Действует до \" + this.props.expireDate;\n  }\n\n  render() {\n    return (\n      <div className=\"minute\">\n        <p className=\"semiTitle\">{this.formatMinutes()}</p>\n        <div className=\"minuteDescriptionWrapper\">\n          <div className=\"textWrapper\">\n            <p className=\"light\">{this.formatAccessibleFor()}</p>\n          </div>\n        </div>\n        <div className=\"minuteDescriptionWrapper\">\n          <TextWithLeftIcon src=\"icons/timer.png\" text={this.formatExpireDate()}/>  \n        </div>\n      </div>\n    )\n  }\n}\n\nMinute.propTypes = {\n  minutes: PropTypes.number.isRequired,\n  accessibleFor: PropTypes.arrayOf(PropTypes.string),\n  expireDate: PropTypes.string.isRequired\n}\n\nexport default Minute;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Minute from './Minute';\n\nclass MinutesPanel extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n\n    };\n  }\n\n  render() {\n    let minutes = [];\n    for (let i = 0; i < this.props.saleMinutes.length; i++) {\n      let sm = this.props.saleMinutes[i];\n      minutes.push(<Minute minutes={sm[\"Minutes\"]} accessibleFor={sm[\"AccessibleFor\"]} expireDate={sm[\"ExpireDate\"]} key={i}/>);\n    }\n\n    return (\n      <div className=\"block nameBlock\">\n\n        <div className=\"blockContent\">\n\n          <div className=\"blockTitle\">\n            <p>Подарочные минуты</p>\n          </div>\n\n          <div className=\"afterTitleWrapperVertical\">\n            {minutes}\n          </div>\n\n        </div>\n\n      </div>\n    )\n  }\n}\n\nMinutesPanel.propTypes = {\n  saleMinutes: PropTypes.arrayOf(PropTypes.object).isRequired,\n}\n\nexport default MinutesPanel;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Icon from './Icon';\nimport TextWithLeftIcon from './TextWithLeftIcon';\n\nclass Present extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n\n    };\n  }\n\n  formatExpireDate() {\n    return \"Действует до \" + this.props.expireDate;\n  }\n\n  render() {\n    return (\n      <div className=\"present\">\n        <div className=\"textWrapper\">\n          <p className=\"semiTitle\">{this.props.name}</p>\n        </div>\n        <div className=\"minuteDescriptionWrapper\">\n          <TextWithLeftIcon src=\"icons/timer.png\" text={this.formatExpireDate()}/>  \n        </div>\n      </div>\n    )\n  }\n}\n\nPresent.propTypes = {\n  name: PropTypes.string.isRequired,\n  expireDate: PropTypes.string.isRequired,\n}\n\nexport default Present;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Present from './Present';\n\nclass PresentsPanel extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n\n    };\n  }\n\n  render() {\n    let presents = [];\n    for (let i = 0; i < this.props.presents.length; i++) {\n      let p = this.props.presents[i];\n      presents.push(<Present name={p[\"Name\"]} expireDate={p[\"ExpireDate\"]} key={i}/>);\n    }\n\n    return (\n      <div className=\"block nameBlock\">\n\n        <div className=\"blockContent\">\n\n          <div className=\"blockTitle\">\n            <p>Подарки</p>\n          </div>\n\n          <div className=\"afterTitleWrapperVertical\">\n            {presents}\n          </div>\n\n        </div>\n\n      </div>\n    )\n  }\n}\n\nPresentsPanel.propTypes = {\n  presents: PropTypes.arrayOf(PropTypes.object).isRequired,\n}\n\nexport default PresentsPanel;","import React from 'react';\nimport Minute from './Minute';\nimport Icon from './Icon';\n\nclass FooterPanel extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      \n    };\n  }\n\n  render() {\n    return (\n      <div className=\"block nameBlock\">\n\n        <div className=\"blockContent\">\n\n          <div className=\"blockTitle\">\n            <p>Контакты</p>\n          </div>\n\n          <div className=\"afterTitleWrapperVertical\">\n            <div>\n              <p className=\"semiTitle\">Позвонить</p>\n              <p className=\"tire\">—</p>\n              <p className=\"after\">+7 917 802-13-33</p>\n            </div>\n\n            <div>\n              <p className=\"semiTitle\">Написать</p>\n              <p className=\"tire\">—</p>\n              <p className=\"after\">mail@mail.ru</p>\n            </div>\n\n            <div>\n              <p className=\"semiTitle\">Поделиться</p>\n              <p className=\"tire\">—</p>\n              <div className=\"footerIcons\">\n                <Icon src=\"icons/alert-circle.png\" />\n                <Icon src=\"icons/alert-circle.png\" />\n                <Icon src=\"icons/alert-circle.png\" />\n                <Icon src=\"icons/alert-circle.png\" />\n              </div>\n            </div>\n\n            <p className=\"smol-light\">Политика конфиденциальности</p>\n            <p className=\"smol-light\">Обработка персональных данных</p>\n          </div>\n\n        </div>\n\n      </div>\n    )\n  }\n}\n\nexport default FooterPanel;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { load } from \"./utils\";\nimport { withCookies, Cookies, lax } from 'react-cookie';\n\nclass LoginPanel extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleMobileChange = this.handleMobileChange.bind(this);\n    this.handleCardChange = this.handleCardChange.bind(this);\n    this.handleLoginClick = this.handleLoginClick.bind(this);\n    this.handleCardKeyDown = this.handleCardKeyDown.bind(this);\n\n    this.state = {\n      mobile: \"\",\n      card: \"\",\n\n      error: false,\n      errorMessage: \"\",\n    };\n  }\n\n  componentDidMount() {\n    const cookie_mobile = this.props.cookies.get(\"mobile\");\n    const cookie_card = this.props.cookies.get(\"card\");\n\n    if (cookie_card && cookie_mobile) {\n      load(cookie_card, cookie_mobile).then(json => {\n        let record = json;\n        this.props.changeRecord(record);\n        this.props.changePanel(\"main\");\n      }).catch(err => {\n        this.props.cookies.remove(\"mobile\");\n        this.props.cookies.remove(\"card\");\n      })\n    }\n  }\n\n  handleMobileChange(e) {\n    let value = e.target.value;\n    this.setState(() => ({mobile: value, error: false}));\n  }\n  \n  handleCardChange(e) {\n    let value = e.target.value;\n    this.setState(() => ({card: value, error: false}));\n  }\n\n  handleLoginClick() {\n    console.log(\"login\");\n    console.log(this.state.mobile);\n    console.log(this.state.card);\n\n    let error = false;\n    let errorMessage = \"\";\n\n    if (!this.state.mobile || this.state.mobile === \"\") {\n      errorMessage = \"Укажите номер телефона.\";\n    } else if (!this.state.card || this.state.card === \"\") {\n      errorMessage = \"Укажите номер карты..\";\n    }\n\n    if (errorMessage !== \"\") {\n      error = true;\n      this.setState(() => ({error: error, errorMessage: errorMessage}));\n    } else {\n      load(this.state.card, this.state.mobile).then(json => {\n        let record = json;\n        this.props.cookies.set(\"mobile\", this.state.mobile, {maxAge: 3600, secure: true});\n        this.props.cookies.set(\"card\", this.state.card, {maxAge: 3600, secure: true});\n        this.props.changeRecord(record);\n        this.props.changePanel(\"main\");\n      }).catch(err => {\n        error = true;\n        errorMessage = \"Неверный номер телефона или номер карты. Попробуйте ещё раз.\";\n        this.setState(() => ({error: error, errorMessage: errorMessage}));\n      })\n    }\n  }\n\n  handleCardKeyDown(e) {\n    if (e.key === \"Enter\") {\n      this.handleLoginClick();\n    }\n  }\n\n\n  render() {\n    return (\n      <div className=\"loginBlock\">\n\n        <div className=\"loginContent\">\n\n          <div className=\"inputBlock\">\n            <label htmlFor=\"name\">Номер телефона</label>\n            <input className=\"mobileInput\" name=\"mobile\" type=\"text\" placeholder=\"+79991234567\" onChange={this.handleMobileChange} value={this.state.mobile}></input>\n          </div>\n\n          <div className=\"inputBlock\">\n            <label htmlFor=\"card\">Номер карты</label>\n            <input className=\"cardInput\" name=\"card\" type=\"number\" placeholder=\"8000012345\" onChange={this.handleCardChange} onKeyDown={this.handleCardKeyDown} value={this.state.card}></input>\n          </div>\n\n          {this.state.error ?\n            <div className=\"errorMessage\">\n              {this.state.errorMessage}\n            </div>\n          : null}\n\n          <div className=\"inputBlock\">\n            <button className=\"loginButton\" onClick={this.handleLoginClick}>Войти</button>\n          </div>\n\n        </div>\n\n      </div>\n    )\n  }\n}\n\nLoginPanel.propTypes = {\n  changePanel: PropTypes.func.isRequired,\n  changeRecord: PropTypes.func.isRequired,\n\n  cookies: PropTypes.instanceOf(Cookies).isRequired,\n}\n\nexport default withCookies(LoginPanel);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withCookies, Cookies, lax } from 'react-cookie';\n\nclass LogoutPanel extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.logout = this.logout.bind(this);\n\n    this.state = {\n      \n    };\n  }\n\n  logout() {\n    this.props.cookies.remove(\"mobile\");\n    this.props.cookies.remove(\"card\");\n    this.props.changePanel(\"login\");\n  }\n\n  render() {\n    return (\n      <div className=\"block logout\">\n\n        <div className=\"blockContent\">\n\n          <button onClick={() => this.logout()}>Выйти</button>\n\n        </div>\n\n      </div>\n    )\n  }\n}\n\nLogoutPanel.propTypes = {\n  changePanel: PropTypes.func.isRequired,\n  cookies: PropTypes.instanceOf(Cookies).isRequired,\n}\n\nexport default withCookies(LogoutPanel);","import React from 'react';\nimport './App.css';\nimport { CookiesProvider } from 'react-cookie';\nimport NamePanel from './Comps/NamePanel';\nimport InfoPanel from './Comps/InfoPanel';\nimport MinutesPanel from './Comps/MinutesPanel';\nimport PresentsPanel from './Comps/PresentsPanel';\nimport FooterPanel from './Comps/FooterPanel';\nimport LoginPanel from './Comps/LoginPanel';\nimport LogoutPanel from './Comps/LogoutPanel';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.changePanel = this.changePanel.bind(this);\n    this.changeRecord = this.changeRecord.bind(this);\n\n    this.state = {\n      currentView: \"login\",\n\n      record: undefined,\n    };\n  }\n\n  changePanel(panel) {\n    this.setState(() => ({currentView: panel}));\n  }\n\n  changeRecord(record) {\n    this.setState(() => ({record: record}));\n  }\n\n  render() {\n    let record = this.state.record;\n    return (\n      <div>\n        <CookiesProvider>\n          {this.state.currentView === \"login\" ? \n            <div className=\"content\">\n              <LoginPanel changePanel={this.changePanel} changeRecord={this.changeRecord}/>\n            </div>\n          :\n            <div className=\"content\">\n              <NamePanel name={record[\"Name\"]} surname={record[\"SurName\"]} isDisabled={record[\"IsDisabled\"]} cardid={record[\"CardId\"]} mobile={record[\"Mobile\"]} birthday={record[\"Birthday\"]} />\n              <InfoPanel sale={record[\"Sale\"]} saleComment={record[\"SaleComment\"]} money={record[\"Money\"]} totalMinutes={record[\"TotalMinutes\"]}/>\n              <MinutesPanel saleMinutes={record[\"SaleMinutes\"]}/>\n              <PresentsPanel presents={record[\"Presents\"]}/>\n              <FooterPanel />\n              <LogoutPanel changePanel={this.changePanel}/>\n            </div>\n          }\n        </CookiesProvider>\n      </div>\n    )\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}